(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{987:function(t,e,r){"use strict";r.r(e);var n=r(10),o=(r(73),r(959)),c=r(947),l=r(948),d=r(244),v=r(949),h={computed:{loggedIn:function(){return this.$bsc&&this.$bsc.token}},components:{vueTelegramLogin:o.vueTelegramLogin,ErrorModal:c.default,WeyuFooter:d.default,AccountStatus:l.default,AccountActionBlocks:v.default},data:function(){return{loading:!1,loadingUserCount:!1,error:null,userCount:null}},created:function(){this.loggedIn?this.getUserCount():(this.$bsc.loginModal=!0,this.$router.push({path:"/",query:{redirect:"admin"}}))},methods:{getUserCount:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingUserCount=!0,e.prev=1,e.next=4,t.$axios.get("/admin/users/count");case 4:r=e.sent,t.userCount=r.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response&&e.t0.response.data?e.t0.response.data.error?t.error=e.t0.response.data.error:t.error=e.t0.response.data:e.t0.message?t.error=e.t0.message:t.error=e.t0;case 11:t.loadingUserCount=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}},C=r(26),component=Object(C.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"section"},[r("div",{staticClass:"container"},[r("error-modal"),t._v(" "),r("h2",{staticClass:"subtitle"},[t._v("Whitelisted Users")]),t._v(" "),t.loading?r("div",{staticClass:"has-text-centered subtitle"},[t._v("Loading..")]):t._e(),t._v(" "),r("div",[r("h2",{staticClass:"subtitle has-text-black has-text-weight-bold"},[null===t.userCount||t.loadingUserCount?r("span",[t._v("...")]):r("span",[t._v(t._s(t.userCount))]),t._v(" users")]),t._v(" "),r("a",{on:{click:t.getUserCount}},[r("small",[t._v("refresh")])])]),t._v(" "),r("div",{staticClass:"has-text-centered container"},[r("div",{staticClass:"has-text-centered mb-4"},[r("a",{staticClass:"button is-outlined is-danger is-small",staticStyle:{"border-radius":"6px"},on:{click:function(e){return t.$bsc.logout()}}},[t._v("\n          Logout\n        ")])]),t._v(" "),r("weyu-footer")],1)],1)])}),[],!1,null,"7b8e6e0a",null);e.default=component.exports;installComponents(component,{ErrorModal:r(947).default})}}]);